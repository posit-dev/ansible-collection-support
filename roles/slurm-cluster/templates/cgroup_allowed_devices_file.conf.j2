# cgroup_allowed_devices_file.conf - Allowed devices for Slurm cgroups
# Generated by Ansible - DO NOT EDIT MANUALLY
#
# List of devices that jobs are allowed to access

{% if slurm_cgroup_allowed_devices | length > 0 %}
# Configured allowed devices
{% for device in slurm_cgroup_allowed_devices %}
{{ device }}
{% endfor %}
{% else %}
# Default allowed devices
/dev/null
/dev/zero
/dev/random
/dev/urandom
/dev/tty
/dev/pts/*
/dev/ptmx
/dev/shm/*
/dev/cpu/*/*
/dev/cpuset
{% endif %}

{% if slurm_cgroup_enable_gpu_devices %}
# GPU devices
/dev/nvidia*
/dev/nvidiactl
/dev/nvidia-uvm
/dev/nvidia-uvm-tools
/dev/nvidia-modeset
/dev/dri/*
{% endif %}
