---
# defaults file for semaphore-api-get

# API base URL - typically provided by semaphore_ui_api fact
semaphore_api_base_url: "{{ semaphore_ui_api | default('http://localhost:3000/api') }}"

# API authentication
semaphore_api_token: ""
semaphore_api_user: "admin"
semaphore_api_password: "changeme"

# Endpoint to call
# Project-scoped endpoints: inventory, task, variable_groups, repository, keys, templates, schedules, events, views, task_output
# Global endpoints: projects, users, user
semaphore_api_endpoint: ""

# Project ID for API calls (required for project-scoped endpoints)
semaphore_project_id: 1

# Resource ID for specific resource lookups (optional for most endpoints, required for task_output)
semaphore_resource_id: ""

# Additional query parameters (optional)
# Example: { "sort": "name", "order": "asc" }
semaphore_api_query_params: {}

# Retry settings for API calls
semaphore_api_retries: 3
semaphore_api_retry_delay: 5

# Debug output control
semaphore_api_debug: true
semaphore_api_verbose_debug: false

# HTTP request settings
semaphore_api_validate_certs: true
semaphore_api_timeout: 30
semaphore_api_follow_redirects: "all"

# Response handling
semaphore_api_return_content: true
semaphore_api_status_code: 200
semaphore_api_expected_status_codes: [200]
semaphore_api_validate_json: true
semaphore_api_store_metadata: true

# Example configurations for each endpoint type
# These show the typical structure for each endpoint

# Project-scoped endpoints (require project_id)
# ==============================================

# Example: Get all inventories for a project
semaphore_api_inventory_example:
  endpoint: "inventory"
  project_id: 1
  resource_id: ""  # Leave empty to get all inventories, or specify ID for specific inventory

# Example: Get all tasks for a project
semaphore_api_task_example:
  endpoint: "task"
  project_id: 1
  resource_id: ""  # Leave empty to get all tasks, or specify task ID for specific task

# Example: Get all variable groups (environment variables)
semaphore_api_variable_groups_example:
  endpoint: "variable_groups"
  project_id: 1
  resource_id: ""  # Leave empty to get all variable groups, or specify ID for specific group

# Example: Get all repositories for a project
semaphore_api_repository_example:
  endpoint: "repository"
  project_id: 1
  resource_id: ""  # Leave empty to get all repositories, or specify ID for specific repository

# Example: Get all access keys for a project
semaphore_api_keys_example:
  endpoint: "keys"
  project_id: 1
  resource_id: ""  # Leave empty to get all keys, or specify ID for specific key

# Example: Get all templates for a project
semaphore_api_templates_example:
  endpoint: "templates"
  project_id: 1
  resource_id: ""  # Leave empty to get all templates, or specify ID for specific template

# Example: Get all schedules for a project
semaphore_api_schedules_example:
  endpoint: "schedules"
  project_id: 1
  resource_id: ""  # Leave empty to get all schedules, or specify ID for specific schedule

# Example: Get all events/activity log for a project
semaphore_api_events_example:
  endpoint: "events"
  project_id: 1
  resource_id: ""  # Leave empty to get all events

# Example: Get all views for a project
semaphore_api_views_example:
  endpoint: "views"
  project_id: 1
  resource_id: ""  # Leave empty to get all views, or specify ID for specific view

# Example: Get output for a specific task (requires resource_id)
semaphore_api_task_output_example:
  endpoint: "task_output"
  project_id: 1
  resource_id: "42"  # Required - the task ID to get output for

# Global endpoints (do not require project_id)
# =============================================

# Example: Get all projects
semaphore_api_projects_example:
  endpoint: "projects"
  # project_id not required
  resource_id: ""  # Leave empty to get all projects, or specify ID for specific project

# Example: Get all users (admin only)
semaphore_api_users_example:
  endpoint: "users"
  # project_id not required

# Example: Get current authenticated user info
semaphore_api_user_example:
  endpoint: "user"
  # project_id not required
